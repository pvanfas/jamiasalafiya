{% extends 'web/base.html' %}
{% load static %}
{% block content %}
<main>
    <section class="home">
        <div class="container">

            <div class="header">
                <h1>View Result</h1>
            </div>

            <div class="button-container">

                <form action="" method="get">
                    <div class="inline-form">
                        <div class="form-item">
                            {{form.choice}}
                        </div>
                        <div class="form-item">
                            <button type="submit" class="button">Submit</button>
                        </div>
                    </div>
                </form>
            </div>

            <div class="result-container">
                <div id="adobe-dc-view"></div>
            </div>

            <div class="footer">
                <p>Salafi Gramam, Pulikkal, Malappuram</p>
                <p>+91 7510 701 141, +91 9895 840 501</p>
            </div>
        </div>
    </section>
</main>

{% endblock %}
{% block javascript %}
<script src="https://documentcloud.adobe.com/view-sdk/main.js"></script>
<script type="text/javascript">
    document.addEventListener("adobe_dc_view_sdk.ready", function() {
        var adobeDCView = new AdobeDC.View({
            clientId: "f05ef909520343498747cf2b7beb924f",
            divId: "adobe-dc-view"
        });
        adobeDCView.previewFile({
            content: {
                location: {
                    url: "{{result.file.url}}"
                }
            },
            metaData: {
                fileName: "{{result.title}}"
            }
        }, {
            embedMode: "IN_LINE"
        });
    });
</script>
{% endblock %}
